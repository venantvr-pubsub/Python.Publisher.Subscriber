<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8"/>
    <title>PubSub WebSocket Client & Admin</title>
    <!-- Load Socket.IO client library -->
    <script src="https://cdn.socket.io/4.5.0/socket.io.min.js"></script>
    <!-- Load Bootstrap for styling -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
</head>

<body class="p-5">
<div class="container">
    <h1>PubSub WebSocket Client & Admin</h1>

    <div class="row mb-3">
        <div class="col">
            <input class="form-control" id="consumer" placeholder="Consumer name" type="text" value="alice"/>
        </div>
        <div class="col">
            <input class="form-control" id="topics" placeholder="Topics comma-separated" type="text"
                   value="sport,finance"/>
        </div>
        <div class="col">
            <button class="btn btn-primary" id="connectBtn">Connect & Subscribe</button>
        </div>
    </div>

    <hr/>

    <h2>Publish</h2>
    <div class="row mb-3">
        <div class="col">
            <input class="form-control" id="pubTopic" placeholder="Topic" type="text">
        </div>
        <div class="col">
            <input id="pubProducer" placeholder="Producer name" type="text"/>
        </div>
        <div class="col">
            <input id="pubMessage" placeholder="Message text" type="text"/>
        </div>
        <div class="col">
            <button class="btn btn-success" id="pubBtn">Publish</button>
        </div>
    </div>

    <hr/>

    <h2>Received Messages</h2>
    <ul class="list-group mb-5" id="messages"></ul>

    <h2>Clients Connected</h2>
    <table class="table table-bordered" id="clientsTable">
        <thead>
        <tr>
            <th>Consumer</th>
            <th>Topic</th>
            <th>Connected At</th>
        </tr>
        </thead>
        <tbody></tbody>
    </table>

    <h2>Messages</h2>
    <table class="table table-bordered" id="messagesTable">
        <thead>
        <tr>
            <th>Producer</th>
            <th>Topic</th>
            <th>Message</th>
            <th>Timestamp</th>
        </tr>
        </thead>
        <tbody></tbody>
    </table>

    <h2>Consumptions</h2>
    <table class="table table-bordered" id="consTable">
        <thead>
        <tr>
            <th>Consumer</th>
            <th>Topic</th>
            <th>Message</th>
            <th>Timestamp</th>
        </tr>
        </thead>
        <tbody></tbody>
    </table>
</div>
</body>
<!-- Load client-side JavaScript for WebSocket interactions -->
<script src="/static/pubsub_ws.js"></script>

</html>